input_select:
  dashboard1:
    options:
      - "Artwork 1"
      - "Artwork 2"
      - "Artwork 3"
      - "Dashboard"
    name: Dashboard Page

media_player:
  - platform: universal
    name: Living Room Dashboard
    unique_id: livingroom_dashboard1
    attributes:
      source: input_select.dashboard1
      source_list: input_select.dashboard1|options

homekit:
  - name: Living Room Dashboard
    mode: accessory
    port: 21068
    filter:
      include_entities:
        - media_player.livingroom_dashboard1

homeassistant:
  customize:
    media_player.livingroom_dashboard1:
      device_class: tv

template:
  - trigger:
      platform: time_pattern
      minutes: "/1"
    sensor:
      - name: eInk Dashboard Data
        unique_id: livingroom_dashboard1_data
        state: "OK"
        attributes:
          occupancy: >
            {{ states('binary_sensor.livingroom_motionsensor_occupancy') }}
          weather_condition_now: >
            {% set cond_now = states('weather.brisbane_hourly') %}
            {% if states('sun.sun') == 'below_horizon' %}
                {% if cond_now == 'sunny' %} night {% elif cond_now == 'partlycloudy' %} night-partly-cloudy {% else %} {{ cond_now }} {% endif %}
            {% else %}
                {{ cond_now }}
            {% endif %}
          weather_temperature_now: >
            {{ state_attr('weather.brisbane_hourly', 'forecast')[0].temperature | round }}
